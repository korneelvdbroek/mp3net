<!DOCTYPE html>
<html lang="en">

<head>
    <title>MP3net</title>

    <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,600" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/player.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div class='header'>
        <h1>MP3net</h1>
        <div class='line'>
        <div id='subtitle'>A Convolutional Generative Model for Audio </div>
        </div>
    </div>

    <div id='first' class='full-width'>
        <div class='intro-demo'>
            <div class='intro'>
                <p>
                    MP3net
                </p>
                <p>
                    <strong>Demo:</strong> Select a sample
                </p>
            </div>
            <div id='demo-3' class='demo'>
                <div id='player-3' class='player'>
                    <div class='controls'>
                        <p>
                            Speaker:
                            <select id='select-sample'>
                              <option value="sample-0">Sample 1</option>
                              <option value="sample-1">Sample 2</option>
                            </select>
                        </p>
                    </div>
                    <div class='spectrogram'>
                        <div class='overline'></div>
                        <div class='underlay'>
                            <img src='samples/sample-0.png'>
                        </div>
                    </div>
                    <div class='audio-controls'>
                        <button id="playpause" disabled class='playpause' title="play">
                            <svg class='play-img' width="14px" height="19px" viewBox="0 0 14 19">
                                <polygon id="Triangle" fill="#000000" transform="translate(9, 9.5) rotate(90) translate(-7, -9.5) " points="7 2.5 16.5 16.5 -2.5 16.5"></polygon>
                            </svg>
                            <svg class='pause-img' width="16px" height="19px" viewBox="0 0 16 19">
                                <g fill="#000000" stroke="#000000">
                                    <rect id="Rectangle" x="0.5" y="0.5" width="4" height="18"></rect>
                                    <rect id="Rectangle" x="11.5" y="0.5" width="4" height="18"></rect>
                                </g>
                            </svg>
                        </button>
                        <audio id='play-1' class='play'>
                            <source id='src1' src='samples/sample-0.ogg' type='audio/ogg'>
                            <source id='src2' src='samples/sample-0.wav' type='audio/wav'>
                        </audio>
                        <div class='response'>
                            <canvas class='response-canvas'></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--
    <div class='section'>
        <h2>The Frequency Domain</h2>
        <p>
        We begin with a brief primer on time and frequency representations of audio.
        A signal has equivalent representations in the time domain and the frequency domain.  This notion is pervasive in the analysis of highly periodic signals such as audio waveforms.  In the time domain, audio is represented as a one-dimensional waveform&mdash;amplitude as a function of time.  By way of the Fourier transform, this waveform can be decomposed into a sum of periodic signals.  The amplitudes and frequencies of these periodic signals constitute the waveform's frequency-domain representation, which is visualized in the animation below:
        </p>

        <div class='fig-container'>
            <figure id='fourier-div'>
                <img id='fourier' src='../../figures/fourier4.gif'>
            </figure>

            <figcaption>
                <p class='caption'>
                A visualization of the relationship between a function in the <span style='color: rgb(189, 41, 32);'>time domain</span> and the <span style='color: rgb(37, 94, 182);'>frequency domain</span>. The time-domain waveform can be represented as a weighted sum of periodic functions of varying frequencies. [<a target='_blank' href='https://en.wikipedia.org/wiki/Frequency_domain#/media/File:Fourier_transform_time_and_frequency_domains_(small).gif'>Image source</a>]
                </p>
            </figcaption>
        </div>

    </div>

    <hr>-->

</body>
</html>

<script src="js/pako.js"></script>
<script src="js/upng.js"></script>
<script src="js/player.js"></script>

<script>
    var p3 = new Player('player-3')
    p3.load('samples/sample-0', 'samples/sample-0.png')

    var select_sample = document.querySelector('#select-sample')

    function update3() {
        var audio_fname = "samples/" + select_sample.value
        var img_fname = "samples/" + select_sample.value + ".png"
        p3.load(audio_fname, img_fname)
    }
    select_sample.addEventListener('change', update3)
    window.addEventListener("resize", function() {p3.redraw()})
</script>