<!DOCTYPE html>
<html lang="en">

<head>
    <title>MP3net</title>

    <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,600" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/player.css">
    <link rel="stylesheet" type="text/css" href="css/clean.css">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div class="box">
        <div class="row header">
        </div>

        <div class="row content">  <!-- is closed in footer.php ;-) -->
            <div id="main">
                <div id="primary">
                    <div id="content" role="main">
                        <article id="post-0" class="exhibit post-0 post type-post status-publish format-standard hentry category-uncategorized tag-data-visualization tag-map">

                            <header class="entry-header">
                                <h1 class="entry-title">MP3net</h1>
                            </header><!-- .entry-header -->


                            <div class="img_container_wide">

                            <div id='demo-3' class='demo'>

                                <div id='player-3' class='player'>
                                    <div class='controls'>
                                        <p>
                                            Sample:
                                            <select id='select-sample'>
                                              <option value="sample-0">Sample 1</option>
                                              <option value="sample-1">Sample 2</option>
                                            </select>
                                        </p>
                                    </div>
                                    <div class='spectrogram'>
                                        <div class='overline'></div>
                                        <div class='underlay'>
                                            <img src='samples/sample-0.png'>
                                        </div>
                                    </div>
                                    <div class='audio-controls'>
                                        <button id="playpause" disabled class='playpause' title="play">
                                            <svg class='play-img' width="14px" height="19px" viewBox="0 0 14 19">
                                                <polygon id="Triangle" fill="#000000" transform="translate(9, 9.5) rotate(90) translate(-7, -9.5) " points="7 2.5 16.5 16.5 -2.5 16.5"></polygon>
                                            </svg>
                                            <svg class='pause-img' width="16px" height="19px" viewBox="0 0 16 19">
                                                <g fill="#000000" stroke="#000000">
                                                    <rect id="Rectangle" x="0.5" y="0.5" width="4" height="18"></rect>
                                                    <rect id="Rectangle" x="11.5" y="0.5" width="4" height="18"></rect>
                                                </g>
                                            </svg>
                                        </button>
                                        <audio id='play-1' class='play'>
                                            <source id='src1' src='samples/sample-0.ogg' type='audio/ogg'>
                                            <source id='src2' src='samples/sample-0.wav' type='audio/wav'>
                                        </audio>
                                        <div class='response'>
                                            <canvas class='response-canvas'></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>

        <div class="row footer">
        </div>
    </div>

</body>
</html>

<script src="js/pako.js"></script>
<script src="js/upng.js"></script>
<script src="js/player.js"></script>

<script>
    var p3 = new Player('player-3')
    p3.load('samples/sample-0', 'samples/sample-0.png')

    var select_sample = document.querySelector('#select-sample')

    function update3() {
        var audio_fname = "samples/" + select_sample.value
        var img_fname = "samples/" + select_sample.value + ".png"
        p3.load(audio_fname, img_fname)
    }
    select_sample.addEventListener('change', update3)
    window.addEventListener("resize", function() {p3.redraw()})
</script>